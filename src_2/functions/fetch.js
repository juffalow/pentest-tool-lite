import Request from '../request';
import BlackHole from '../request/cache/BlackHole';

const request = new Request(new BlackHole());

export function fetch(url) {
  return new Promise(function(resolve, reject) {
    request.request(url, true, function(error, response, body) {
      resolve({
        url: url,
        error: error,
        response: response,
        body: body,
      });
    });
  });
};

export function fetchWithoutRedirect(url) {
  return new Promise(function(resolve, reject) {
    request.request(url, false, function(error, response, body) {
      resolve({
        url: url,
        error: error,
        response: response,
        body: body,
      });
    });
  });
};
