import Test, { TestParameters, Result } from '../Test';
import request from '../request';
import logger from '../logger';

class Robots extends Test {
  public name = 'Robots';

  public async test({ url }: TestParameters): Promise<Result> {
    logger.info(`Starting ${this.constructor.name} test...`);

    const response = await request.get(`${url}/robots.txt`);

    return {
      status: Math.floor(response.statusCode / 100) === 2 ? 'SUCCESS' : 'WARNING',
      title: 'Robots.txt',
      description: '',
    };
  }
}

export default Robots;
