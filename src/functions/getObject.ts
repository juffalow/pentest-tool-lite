const getObject = (theObject: any|[], key: string, value: string): any[] => {
  let result = [];
  if (theObject instanceof Array) {
    for (const obj of theObject) {
      result = result.concat(getObject(obj, key, value));
    }
  } else {
    for (const prop in theObject) {
      if (Object.prototype.hasOwnProperty.call(theObject, prop)) {
        if (prop === key) {
          if (theObject[prop] === value) {
            result.push(theObject);
            break;
          }
        }
        if (prop === 'children') {
          result = result.concat(getObject(theObject[prop], key, value));
        }
      }
    }
  }

  return result;
};

export default getObject;
